---
layout: post
title: Learning MathML
---
<p>Going forward, I expect that math will be a subject I discuss on this blog. Before discussing it, though, I needed to learn how to display math formulas in the browser. Based on my research, there are a few approaches one can take:</p>

<ol>
  <li>Render your formluas in TeX (or similar) and display them as images.</li>
  
  <li>Use a JavaScript library like <a href="https://www.mathjax.org/">MathJax</a> to render TeX equations (or similar) as SVG images, HTML+CSS, and/or <a href="https://en.wikipedia.org/wiki/MathML">MathML</a>, an ISO-standard XML schema
  for math equations, in the client's browser.</li>
  
  <li>Do something dumb like hand-write your equations in MathML, breaking your website's cross-browser compatibility in the process because, despite the fact that the HTML5 standard has included MathML <a href="https://en.wikipedia.org/wiki/MathML">since <time datetime="2015">2015</time></a>, Chrome and its variants (Edge, Safari, Brave, etc.) still do not support it.</li>
</ol>

<p>Naturally I settled on the third option because, before today, I had never heard of MathML and I was curious. To learn the basics, I decided to transcribe the <a href="https://en.wikipedia.org/wiki/Cauchy%E2%80%93Schwarz_inequality">Cauchy-Schwarz Inequality</a> because it appears in the first few pages of my copy of <i><a href="https://www.goodreads.com/book/show/292079.Principles_of_Mathematical_Analysis">Principles of Mathematical Analysis</a></i> and I lacked the motivation to look any further.</p>

<p>Note that, as of <time datetime="2019-11-17">November 17th, 2019</time>, Firefox is the only browser <a href="https://developer.mozilla.org/en-US/docs/Web/MathML/Element/math#Browser_compatibility">that fully supports MathML</a>. If your browser does not correctly render what follows, <a href="/assets/images/cauchy-schwarz-inequality.png">here</a> is an image of the equations as rendered by Firefox.</p>

<p>Given <math>
<mrow>
  <mrow>
    <msub>
      <mi>
        a
      </mi>
      <mn>
        1
      </mn>
    </msub>
    <mo>
      &hellip;
    </mo>
    <msub>
      <mi>
        a
      </mi>
      <mi>
        n
      </mi>
    </msub>
  </mrow>
  <mo>
    &isin;
  </mo>
  <mi>
    &#x2102;<!--DOUBLE-STRUCK CAPITAL C-->
  </mi>
</mrow></math> and <math>
<mrow>
  <mrow>
    <msub>
      <mi>
        b
      </mi>
      <mn>
        1
      </mn>
    </msub>
    <mo>
      &hellip;
    </mo>
    <msub>
      <mi>
        b
      </mi>
      <mi>
        n
      </mi>
    </msub>
  </mrow>
  <mo>
    &isin;
  </mo>
  <mi>
    &#x2102;<!--DOUBLE-STRUCK CAPITAL C-->
  </mi>
</mrow></math>, where <math>
<mover>
  <mi>
    z
  </mi>
  <mo>
    &oline;
  </mo>
</mover></math> is the complex conjugate of <math>
<mrow>
  <mi>
    z
  </mi>
  <mo>
    &isin;
  </mo>
  <mi>
    &#x2102;<!--DOUBLE-STRUCK CAPITAL C-->
  </mi>
</mrow></math> and <math>
<mrow>
  <mrow>
    <mo>
      |
    </mo>
    <mi>
      z
    </mi>
    <mo>
      |
    </mo>
  </mrow>
  <mo>
    =
  </mo>
  <msup>
    <mrow>
      <mo>
        (
      </mo>
      <mi>
        z
      </mi>
      <mo>
        &#x2062;<!--INVISIBLE TIMES-->
      </mo>
      <mover>
        <mi>
          z
        </mi>
        <mo>
          &oline;
        </mo>
      </mover>
      <mo>
        )
      </mo>
    </mrow>
    <mfrac>
      <mn>
        1
      </mn>
      <mn>
        2
      </mn>
    </mfrac>
  </msup>
</mrow></math> is the absolute value of <math>
<mi>
  z
</mi></math>, the Cauchy-Schwarz Inequality is the following:</p>
<math display="block" id="cauchy-schwarz-inequality">
<mrow>
  <msup>
    <mrow>
      <mrow>
        <mo>
          |
        </mo>
        <munderover>
          <mo>
            &sum;
          </mo>
          <mrow>
            <mi>
              j
            </mi>
            <mo>
              =
            </mo>
            <mn>
              1
            </mn>
          </mrow>
          <mi>
            n
          </mi>
        </munderover>
        <mrow>
          <msub>
            <mi>
              a
            </mi>
            <mi>
              j
            </mi>
          </msub>
          <mo>
            &#x2062;<!--INVISIBLE TIMES-->
          </mo>
          <msub>
            <mover>
              <mi>
                b
              </mi>
              <mo>
                &oline;
              </mo>
            </mover>
            <mi>
              j
            </mi>
          </msub>
        </mrow>
        <mo>
          |
        </mo>
      </mrow>
    </mrow>
    <mn>
      2
    </mn>
  </msup>
  <mo>
    &le;
  </mo>
  <mrow>
    <mrow>
      <munderover>
        <mo>
          &sum;
        </mo>
        <mrow>
          <mi>
            j
          </mi>
          <mo>
            =
          </mo>
          <mn>
            1
          </mn>
        </mrow>
        <mi>
          n
        </mi>
      </munderover>
      <msup>
        <mrow>
          <mo>
            |
          </mo>
          <msub>
            <mi>
              a
            </mi>
            <mi>
              j
            </mi>
          </msub>
          <mo>
            |
          </mo>
        </mrow>
        <mn>
          2
        </mn>
      </msup>
    </mrow>
    <mo>
      &#x2062;<!--INVISIBLE TIMES-->
    </mo>
    <mrow>
      <munderover>
        <mo>
          &sum;
        </mo>
        <mrow>
          <mi>
            j
          </mi>
          <mo>
            =
          </mo>
          <mn>
            1
          </mn>
        </mrow>
        <mi>
          n
        </mi>
      </munderover>
      <msup>
        <mrow>
          <mo>
            |
          </mo>
          <msub>
            <mi>
              b
            </mi>
            <mi>
              j
            </mi>
          </msub>
          <mo>
            |
          </mo>
        </mrow>
        <mn>
          2
        </mn>
      </msup>
    </mrow>
  </mrow>
</mrow></math>
<p>If you'd like to see the many lines of markup that produced this equation, search for the string
"cauchy-schwarz-inequality" in the page source, which you can view in the browser or on <a href=
"https://www.github.com/kmcconnaughay/kmcconnaughay.github.io">GitHub</a>.</p>

<p>Here are some takeaways from this exercise:</p>

<ol>
  <li><a href=
  "https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Character_entity_references_in_HTML">HTML named entities</a> allow you to insert otherwise difficult-to-type symbols into your markup. For example, "∑", the capital Greek letter sigma oft used in summations, is written <code class="inline-code">&amp;sum;</code> in
  HTML.</li>

  <li>For Unicode symbols that lack a named HTML entity, you can use their Unicode encoding directly. For example, "ℂ<!--DOUBLE-STRUCK CAPITAL C-->", the symbol commonly used to represent the set of complex numbers, is written <code class="inline-code">&amp;#x2102;</code> in HTML.</li>

  <li>MathML is verbose, but powerful. It comes with its own set of dedicated XML tags, like <code class="inline-code">&lt;mfrac&gt;</code> for fractions and <code class="inline-code">&lt;msup&gt;</code> for superscript, that allow you to construct arbitrarily complex equations. I appreciate that Firefox does this in vanilla HTML without the need for heavy JavaScript polyfills.</li>

  <li>Because MathML is verbose, writing it by hand is error-prone. I did my best write it semantically, but it's <s>possible</s> probable that I missed an <code class="inline-code">&lt;mrow&gt;</code> tag or made other, less obvious errors. In the future I might use a TeX to MathML converter to generate the markup, instead.</li>

  <li>I need to find a good HTML formatter and a static page templater to make writing new posts easier. I'm not going to use a managed solution like WordPress because half the point of this website is to learn new things from first principles, but I think some minimal tooling will make my life easier.</li>
</ol>
